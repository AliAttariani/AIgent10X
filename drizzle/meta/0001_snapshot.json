{
  "version": "5",
  "dialect": "mysql",
  "id": "6fd66b45-246c-4d61-9c41-9cfb58ae0c36",
  "prevId": "31873ee1-6374-4b92-8a11-ea13b48faf25",
  "tables": {
    "lead_flow_run_usage": {
      "name": "lead_flow_run_usage",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "run_at": {
          "name": "run_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "lead_flow_run_usage_agent_idx": {
          "name": "lead_flow_run_usage_agent_idx",
          "columns": [
            "agent_id"
          ],
          "isUnique": false
        },
        "lead_flow_run_usage_agent_run_idx": {
          "name": "lead_flow_run_usage_agent_run_idx",
          "columns": [
            "agent_id",
            "run_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "lead_flow_run_usage_id": {
          "name": "lead_flow_run_usage_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "lead_flow_settings": {
      "name": "lead_flow_settings",
      "columns": {
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": true
        },
        "qualification_score_threshold": {
          "name": "qualification_score_threshold",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "auto_close_low_score_leads": {
          "name": "auto_close_low_score_leads",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "follow_up_due_in_days": {
          "name": "follow_up_due_in_days",
          "type": "int",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "default_owner_email": {
          "name": "default_owner_email",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "lead_flow_settings_agent_id": {
          "name": "lead_flow_settings_agent_id",
          "columns": [
            "agent_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    },
    "lead_flow_run_idempotency": {
      "name": "lead_flow_run_idempotency",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "idempotency_key": {
          "name": "idempotency_key",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "status": {
          "name": "status",
          "type": "enum('in_progress','succeeded','failed')",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false
        },
        "request_hash": {
          "name": "request_hash",
          "type": "varchar(191)",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "response_json": {
          "name": "response_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "error_json": {
          "name": "error_json",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "autoincrement": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "autoincrement": false,
          "onUpdate": true,
          "default": "CURRENT_TIMESTAMP"
        }
      },
      "indexes": {
        "lead_flow_run_idempotency_agent_key_idx": {
          "name": "lead_flow_run_idempotency_agent_key_idx",
          "columns": [
            "agent_id",
            "idempotency_key"
          ],
          "isUnique": true
        },
        "lead_flow_run_idempotency_agent_idx": {
          "name": "lead_flow_run_idempotency_agent_idx",
          "columns": [
            "agent_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "lead_flow_run_idempotency_id": {
          "name": "lead_flow_run_idempotency_id",
          "columns": [
            "id"
          ]
        }
      },
      "uniqueConstraints": {},
      "checkConstraint": {}
    }
  },
  "views": {},
  "_meta": {
    "schemas": {},
    "tables": {},
    "columns": {}
  },
  "internal": {
    "tables": {},
    "indexes": {}
  }
}
